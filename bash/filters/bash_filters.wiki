[[../../index|Main]]
[[../bash|Back]]


        Фильтры
        -------

Конвейеры часто используются для выполнения сложных операций с данными. Они позволяют объединить вместе несколько команд. Часто команды, используемые таким способом, называют фильтрами. Фильтры принимают ввод, изменяют его определённым образом и выводят результат.

1. Фильтр sort сортирует вывод по алфавиту
ls /bin /usr/bin | sort | less

2. Фильтр uniq - поиск и удаление повторяющихся строк
ls /bin /usr/bin | sort | uniq | less

3. Фильтр wc - (word count) используется для подсчета числа строк, слов и байтов в файлах.
wc ls-output.txt
ls /bin /usr/bin | sort | uniq | wc -l 
(ключ -l выводит только число строк)

4. grep поиск строк, соответствующих шаблону.
Часто используется для поиска в файлах текста по шаблону:
grep шаблон [файл ...]
ls /bin /usr/bin | sort | uniq | grep zip
Параметры:
-i игнор регистра при поиске
-v выводить строки, где совпадение не найдено

5. head/tail выводят первые/последние 10 строк файла
С помощью ключа -n можно изменить кол-во выводимых строк
head -n 5 ls-output.txt
ls /usr/bin | tail -n 5
tail -f /var/log/messages
ключ -f позволяет следить за файлом и при добавлении в конец этого файла новых строк немедленно выводит их до тех пор пока не нажать <C-C>

6. tee читает данные со stdin и копирует их в stdout (чтобы дать возможность передать их дальше по конвейеру) и в один или несколько файлов. Это может пригодиться для сохранения промежуточных результатов обработки в конвейере.
ls /usr/bin | tee ls.txt | grep zip
